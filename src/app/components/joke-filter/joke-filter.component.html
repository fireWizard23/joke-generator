
<p *ngIf="joke">
    {{joke | async | json}}
</p>


<form [formGroup]="form" 
(ngSubmit)="onFormSubmit(form.value)"
>
    <div class="categories input-container"
    formArrayName="categories"
    >
        <label 
        *ngFor="let c of categories.controls; let i = index;"
        for="{{c.value.name}}"
        [formGroupName]="i"
        >
            <input type="checkbox" name="categories"  id={{c.value.name}} 
            formControlName="value"
            (change)="onCategoriesChange($event)"
            >
            {{c.value.name}} 
            {{c.value.value}}
            <br>
        </label>
    </div>
    <div class="flags input-container"
    formArrayName="blacklistFlags"
    >
        <h3>Blacklist Flags</h3>
        <label 
        *ngFor="let c of blacklistFlags.controls; let i = index;"
        for="{{c.value.name}}"
        [formGroupName]="i"
        >
            <input type="checkbox" name="categories"  id={{c.value.name}} 
            formControlName="value"
            >
            {{c.value.name}} 
            {{c.value.value}}
            <br>
        </label>
    </div>
    <input type="submit" value="Submit" >
</form>